<div class="container">
	<br><br><br><br>
	<form #pessoaForm="ngForm" (ngSubmit)="salvar(pessoaForm)">
		<h2>{{editando ? 'Edição de' : 'Novo'}} Pessoa</h2>

		<div class="form-group">
			<label>Nome</label>
			<input class="form-control" name="nome" type="text" [(ngModel)]="pessoa.nome">			
		</div>
		<div class="row">
			<div class="form-group  col-md-6">
				<label>Logradouro</label>
				<input class="form-control" name="logradouro" [(ngModel)]="pessoa.endereco.logradouro" type="text">
			</div>
			<div class="form-group  col-md-6">
				<label>Numero</label>
				<input class="form-control" name="numero" [(ngModel)]="pessoa.endereco.numero" type="text">			
			</div>
		</div>
		<div class="row">
			<div class="form-group  col-md-4">
				<label>Complemento</label>
				<input class="form-control" name="complemento" [(ngModel)]="pessoa.endereco.complemento" type="text">			
			</div>
			<div class="form-group  col-md-4">
				<label>Bairro</label>
				<input class="form-control" name="bairro" [(ngModel)]="pessoa.endereco.bairro" type="text">			
			</div>
			<div class="form-group col-md-4">
				<label for="inputZip">CEP</label>
				<input type="text" class="form-control" name="cep" [(ngModel)]="pessoa.endereco.cep" id="inputZip">
			</div>
		</div>
		<div class="row">
			<div class="form-group  col-md-6">
				<label>Municipio</label>
				<input class="form-control" name="cidade" [(ngModel)]="pessoa.endereco.cidade" type="text">			
			</div>
			<div class="form-group  col-md-6">
				<label>Estado</label>
				<input class="form-control" name="estado" [(ngModel)]="pessoa.endereco.estado" type="text">			
			</div>
		</div>

		<mat-card>
		<div class="mat-elevation-z8">
			    <table mat-table [dataSource]="pessoa.contatos">
				    <ng-container matColumnDef="nome" sticky>
				        <th mat-header-cell *matHeaderCellDef> Nome </th>
				        <td mat-cell *matCellDef="let contato"> {{contato.nome}} </td>
				    </ng-container>
			
				    <ng-container matColumnDef="email">
				        <th mat-header-cell *matHeaderCellDef> E-mail </th>
				        <td mat-cell *matCellDef="let contato"> {{contato.email}} </td>
				    </ng-container>
				
				    <ng-container matColumnDef="telefone">
				        <th mat-header-cell *matHeaderCellDef> Telefone </th>
				        <td mat-cell *matCellDef="let contato"> {{contato.telefone}} </td>
				    </ng-container>
				    
                    <!-- Star Column -->
				    <ng-container matColumnDef="star" stickyEnd>
				      <th mat-header-cell *matHeaderCellDef></th>
				      <td mat-cell *matCellDef="let element">
		                     <button type="submit" class="btn btn-defualt btn-sm" data-toggle="tooltip" title="Editar">
		                         <img class="open-iconic" src="../assets/icones/open-iconic/svg/pencil.svg" alt="Editar">
		                     </button>
		                     <button type="submit" class="btn btn-defualt btn-sm" data-toggle="tooltip" title="Excluir"><img class="open-iconic" src="../assets/icones/open-iconic/svg/trash.svg" alt="Excluir"></button>
				      </td>
				    </ng-container>
				    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			    	<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
				</table>
		</div>
		</mat-card>
		
		<br>

		<mat-card>
		<div class="example-container">
		  <mat-form-field hintLabel="Máximo 50 caracteres" appearance="fill">
		    <mat-label>Nome do contato</mat-label>
		    <input matInput #input maxlength="50">
		    <mat-hint align="end">{{input.value?.length || 0}}/50</mat-hint>
		  </mat-form-field>

		  <mat-form-field hintLabel="Máximo 100 caracteres" appearance="fill">
		    <mat-label>E-mail</mat-label>
		    <input matInput #input maxlength="50" placeholder="Ex. usuario@dominio.com.br">
		    <mat-hint align="end">{{input.value?.length || 0}}/100</mat-hint>
		  </mat-form-field>

		  <mat-form-field hintLabel="Máximo 20 caracteres" appearance="fill">
		    <mat-label>Telefone</mat-label>
		    <input matInput #input maxlength="20" placeholder="Ex. 81 99999.9999">
		    <mat-hint align="end">{{input.value?.length || 0}}/20</mat-hint>
		  </mat-form-field>
		</div>
		</mat-card>

		<br>
		
		<div class="col">
			<button type="submit" class="btn btn-outline-primary">Salvar</button>
			&nbsp;
			<a type="button" class="btn btn-outline-primary" routerLink="/pessoas/novo">Novo</a>
			&nbsp;
			<a type="button" class="btn btn-outline-primary" routerLink="/pessoas">Voltar</a>
		</div>

	</form>

</div>